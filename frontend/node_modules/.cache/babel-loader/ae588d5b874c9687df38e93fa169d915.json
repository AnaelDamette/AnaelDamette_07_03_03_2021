{"remainingRequest":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\src\\components\\BodyProfil.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\src\\components\\BodyProfil.vue","mtime":1616768116809},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvYzNnYS9EZXNrdG9wL0Zvcm1hdGlvbiBXZWIgRGV2ZWxvcHBldXIvQW5hZWxEYW1ldHRlXzA3XzAzXzAzXzIwMjEvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IE1lc01lc3NhZ2VzIGZyb20gIi4uL2NvbXBvbmVudHMvTWVzTWVzc2FnZXMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQ2hhbmdlTWRwIGZyb20gIi4uL2NvbXBvbmVudHMvQ2hhbmdlTWRwIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCb2R5UHJvZmlsIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmV2ZWxlOiBmYWxzZSwKICAgICAgcG9zdDogewogICAgICAgIHV1aWQ6ICIiLAogICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgIHRpdHJlOiAiIgogICAgICB9LAogICAgICBhbGxQb3N0c1VzZXI6IFtdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTWVzTWVzc2FnZXM6IE1lc01lc3NhZ2VzLAogICAgQ2hhbmdlTWRwOiBDaGFuZ2VNZHAKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbIlVzZXIiXSkpLAogIG1ldGhvZHM6IHsKICAgIHByb2ZpbDogZnVuY3Rpb24gcHJvZmlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHV1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXVpZCIpOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9zdC9tZXNNZXNzYWdlcy8iICsgdXVpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5hbGxQb3N0c1VzZXIgPSByZXNwb25zZS5kYXRhLnBvc3Q7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZU1vZGFsZTogZnVuY3Rpb24gdG9nZ2xlTW9kYWxlKCkgewogICAgICBjb25zb2xlLmxvZygiZGFucyBsZSBmb25jdGlvbiB0b2dnbGVNb2RhbGUiKTsKICAgICAgdGhpcy5yZXZlbGUgPSAhdGhpcy5yZXZlbGU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucmV2ZWxlKTsKICAgIH0sCiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZChfcmVsb2FkKSB7CiAgICAgIHRoaXMucHJvZmlsKCk7CiAgICAgIGNvbnNvbGUubG9nKCJ0ZXN0IHNpIHJlbG9hZCBlc3QgYmllbiBpY2kgISAgIiArIF9yZWxvYWQpOwogICAgfSwKICAgIGRlbGV0ZUFjY291bnQ6IGZ1bmN0aW9uIGRlbGV0ZUFjY291bnQoKSB7CiAgICAgIHZhciB1dWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInV1aWQiKTsKICAgICAgdmFyIGRhdGFEZWxldGUgPSB7CiAgICAgICAgZGVsZXRlVXNlclV1aWQ6IHV1aWQsCiAgICAgICAgdXNlcklzQWRtaW46IHRoaXMuVXNlci5pc0FkbWluCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGRhdGFEZWxldGUuZGVsZXRlVXNlclV1aWQgKyAiICBkYXRhRGVsZXRlIEV4aXN0ZSAgIiArIGRhdGFEZWxldGUudXNlcklzQWRtaW4pOwogICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYXV0aC9kZWxldGUvIiArIHV1aWQsIHsKICAgICAgICBkYXRhOiBkYXRhRGVsZXRlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoIi9zaWdudXAiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlUG9zdDogZnVuY3Rpb24gZGVsZXRlUG9zdChkZWxldGVVdWlkUG9zdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJ0ZXN0IDogIiArIGRlbGV0ZVV1aWRQb3N0KTsKICAgICAgdmFyIHV1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXVpZCIpOwogICAgICBjb25zb2xlLmxvZygibGUgcG9zdCB1dWlkIDogIiArIGRlbGV0ZVV1aWRQb3N0ICsgIiBsJ3VzZXIgdXVpZCIgKyB1dWlkKTsKICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QvZGVsZXRlLyIgKyB1dWlkLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgdXVpZFBvc3Q6IGRlbGV0ZVV1aWRQb3N0LAogICAgICAgICAgdXNlcklkT3JkZXI6IHV1aWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5wcm9maWwoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5wcm9maWwoKTsKICB9Cn07"},{"version":3,"sources":["BodyProfil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAFA;AAOA,MAAA,YAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,SAAA,EAAA;AAFA,GAbA;AAiBA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAjBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,gDAAA,IADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA;AASA,KAZA;AAaA,IAAA,YAbA,0BAaA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,+BAAA;AACA,WAAA,MAAA,GAAA,CAAA,KAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA,KAjBA;AAkBA,IAAA,MAlBA,kBAkBA,OAlBA,EAkBA;AACA,WAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oCAAA,OAAA;AACA,KArBA;AAsBA,IAAA,aAtBA,2BAsBA;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,UAAA,UAAA,GAAA;AACA,QAAA,cAAA,EAAA,IADA;AAEA,QAAA,WAAA,EAAA,KAAA,IAAA,CAAA;AAFA,OAAA;AAIA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,CAAA,cAAA,GAAA,uBAAA,GAAA,UAAA,CAAA,WAAA;AACA,MAAA,KAAA,CACA,MADA,CACA,2CAAA,IADA,EACA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA,SAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OANA;AAOA,KApCA;AAqCA,IAAA,UArCA,sBAqCA,cArCA,EAqCA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA,cAAA;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,cAAA,GAAA,cAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,MADA,CACA,2CAAA,IADA,EACA;AACA,QAAA,IAAA,EAAA;AACA,UAAA,QAAA,EAAA,cADA;AAEA,UAAA,WAAA,EAAA;AAFA;AADA,OADA,EAOA,IAPA,CAOA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OAVA;AAWA;AApDA,GArBA;AA2EA,EAAA,OA3EA,qBA2EA;AACA,SAAA,MAAA;AACA;AA7EA,CAAA","sourcesContent":["<template>\r\n  <div class=\"jumbotron container h-100 ml-auto mr-auto mt-5 shadow-box\">\r\n    <ChangeMdp :revele=\"revele\" :toggleModale=\"toggleModale\" />\r\n\r\n    <div class=\"row\">\r\n      <div\r\n        class=\"col-lg-4 bg-light shadow-box d-flex flex-column p-3 m-3\"\r\n      >\r\n        <h2 class=\"bg-dark rounded shadow-box text-center p-2 text-secondary\">\r\n          Ton profil\r\n        </h2>\r\n        <div class=\"p-2 m-2\">\r\n          <p>Ton Compte : {{ User.username }}</p>\r\n        </div>\r\n        <div class=\"p-2 m-2\">\r\n          <p>Ton email : {{ User.email }}</p>\r\n        </div>\r\n        <div\r\n          type=\"button\"\r\n          id=\"change\"\r\n          class=\"p-2 m-2 btn btn-primary w-50\"\r\n          @click=\"toggleModale\"\r\n        >\r\n          Changement Mot de passe\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          class=\"p-2 m-2 btn btn-danger w-50\"\r\n          @click=\"deleteAccount\"\r\n        >\r\n          Supprimer le profil\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-lg-7 bg-light shadow-box d-flex flex-column p-3 m-3 justify-content-between\"\r\n      >\r\n        <h2 class=\"bg-dark rounded shadow-box text-center p-2 text-secondary\">\r\n          Tes messages\r\n        </h2>\r\n        <div class=\"jumbotron d-flex flex-column p-1 m-2 shadow-box\">\r\n          <MesMessages\r\n            @reload=\"reload\"\r\n            @deletePost=\"deletePost\"\r\n            class=\"p-2\"\r\n            v-for=\"post in allPostsUser\"\r\n            v-bind:key=\"post.id\"\r\n            :post=\"post\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport MesMessages from \"../components/MesMessages\";\r\nimport axios from \"axios\";\r\nimport ChangeMdp from \"../components/ChangeMdp\";\r\n\r\nexport default {\r\n  name: \"BodyProfil\",\r\n  data() {\r\n    return {\r\n      revele: false,\r\n      post: {\r\n        uuid: \"\",\r\n        message: \"\",\r\n        titre: \"\",\r\n      },\r\n      allPostsUser: [],\r\n    };\r\n  },\r\n  components: {\r\n    MesMessages,\r\n    ChangeMdp,\r\n  },\r\n  computed: {\r\n    ...mapState([\"User\"]),\r\n  },\r\n\r\n  methods: {\r\n    profil() {\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      axios\r\n        .get(\"http://localhost:3000/api/post/mesMessages/\" + uuid)\r\n        .then((response) => {\r\n          this.allPostsUser = response.data.post;\r\n          console.log(response)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    toggleModale() {\r\n      console.log(\"dans le fonction toggleModale\");\r\n      this.revele = !this.revele;\r\n      console.log(this.revele);\r\n    },\r\n    reload(reload){\r\n      this.profil()\r\n      console.log(\"test si reload est bien ici !  \" + reload)\r\n    },\r\n    deleteAccount() {\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      let dataDelete = {\r\n        deleteUserUuid: uuid, \r\n        userIsAdmin: this.User.isAdmin\r\n        }\r\n      console.log(dataDelete.deleteUserUuid + \"  dataDelete Existe  \" + dataDelete.userIsAdmin)\r\n      axios\r\n        .delete(\"http://localhost:3000/api/auth/delete/\" + uuid, { data: dataDelete})\r\n        .then(() => {\r\n          localStorage.clear();\r\n          location.replace(\"/signup\");\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n    deletePost(deleteUuidPost) {\r\n      console.log(\"test : \" + deleteUuidPost);\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      console.log(\"le post uuid : \" + deleteUuidPost + \" l'user uuid\" + uuid);\r\n      axios\r\n        .delete(\"http://localhost:3000/api/post/delete/\" + uuid, {\r\n          data: {\r\n            uuidPost: deleteUuidPost,\r\n            userIdOrder: uuid,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.profil();\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n  },\r\n  mounted() {\r\n    this.profil();\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}