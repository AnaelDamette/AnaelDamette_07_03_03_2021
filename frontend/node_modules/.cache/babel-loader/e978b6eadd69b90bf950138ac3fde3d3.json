{"remainingRequest":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\src\\components\\CreatePost.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\src\\components\\CreatePost.vue","mtime":1616274343888},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvYzNnYS9EZXNrdG9wL0Zvcm1hdGlvbiBXZWIgRGV2ZWxvcHBldXIvQW5hZWxEYW1ldHRlXzA3XzAzXzAzXzIwMjEvRlJPTlRFTkQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlci9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlUG9zdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRlbnRQb3N0OiB7CiAgICAgICAgbWVzc2FnZTogbnVsbCwKICAgICAgICB0aXRyZTogbnVsbCwKICAgICAgICBzZWxlY3RlZEZpbGU6IG51bGwKICAgICAgfSwKICAgICAgbXNnRXJyb3I6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsiVXNlciJdKSksCiAgbWV0aG9kczogewogICAgY3JlYXRlUG9zdDogZnVuY3Rpb24gY3JlYXRlUG9zdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudFBvc3QpOwogICAgICB2YXIgdXVpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1dWlkIik7CgogICAgICBpZiAodGhpcy5jb250ZW50UG9zdC5tZXNzYWdlICE9IG51bGwgJiYgdGhpcy5jb250ZW50UG9zdC50aXRyZSAhPSBudWxsKSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0L2NyZWF0ZS8iICsgdXVpZCwgdGhpcy5jb250ZW50UG9zdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIF90aGlzLm1zZ0Vycm9yID0gZXJyb3I7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkZpbGVTZWxlY3RlZDogZnVuY3Rpb24gb25GaWxlU2VsZWN0ZWQoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coInRlc3QiLCBldmVudCk7CiAgICAgIHRoaXMuY29udGVudFBvc3Quc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CreatePost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,YAAA,EAAA;AAHA,OADA;AAMA,MAAA,QAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAZA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,WAAA;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;;AACA,UAAA,KAAA,WAAA,CAAA,OAAA,IAAA,IAAA,IAAA,KAAA,WAAA,CAAA,KAAA,IAAA,IAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,2CAAA,IADA,EACA,KAAA,WADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,SANA,EAOA,KAPA,CAOA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AAAA,SAPA;AAQA;AAEA,KAfA;AAgBA,IAAA,cAhBA,0BAgBA,KAhBA,EAgBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA;AACA,WAAA,WAAA,CAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AAnBA;AAfA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"bg-blue rounded-pill text-center p-4 text-secondary\">\r\n      Partage tes id√©es !\r\n    </h1>\r\n\r\n    <form\r\n      action=\"\"\r\n      class=\"row d-flex flex-column jumbotron rounded shadow-box p-3 m-4\"\r\n    >\r\n      <div class=\"d-flex flex-column form-group p-3\">\r\n        <div\r\n          class=\"d-flex justify-content-start bg-dark rounded shadow-box pt-2 pl-3\"\r\n        >\r\n          <label for=\"input_titre\" class=\"\">\r\n            <p class=\"text-secondary\">En premier un beau titre</p></label\r\n          >\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control mt-2\"\r\n          v-model=\"contentPost.titre\"\r\n          id=\"input_titre\"\r\n          placeholder=\"Ecris ici ton titre\"\r\n        />\r\n      </div>\r\n      <div class=\"d-flex flex-column form-group p-3\">\r\n        <div class=\"d-flex justify-content-start bg-dark rounded shadow-box pt-2 pl-3\">\r\n          <label for=\"input_text\" class=\"\">\r\n            <p class=\"text-secondary\">Ensuite votre joli message !</p></label\r\n          >\r\n        </div>\r\n        \r\n        <textarea\r\n          type=\"text\"\r\n          v-model=\"contentPost.message\"\r\n          class=\"form-control mt-2\"\r\n          id=\"input_text\"\r\n          rows=\"8\"\r\n          placeholder=\"Ecris ici ton message\"\r\n        ></textarea>\r\n      </div>\r\n      <div class=\"d-flex flex-column form-groupe p-3\">\r\n          <input type=\"file\"  @change=\"onFileSelected\" > </div>\r\n      <div class=\"d-flex form-group justify-content-end\">\r\n        <input\r\n          type=\"submit\"\r\n          class=\"btn btn-primary w-25\"\r\n          @click.prevent=\"createPost\"\r\n          value=\"Submit\"\r\n        />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\"\r\nimport axios from \"axios\"\r\nimport router from \"../router/index\"\r\nexport default {\r\n  name: \"CreatePost\",\r\n  data() {\r\n    return {\r\n      contentPost: {\r\n        message: null,\r\n        titre: null,\r\n        selectedFile: null\r\n      },\r\n      msgError:\"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"User\"])\r\n  },\r\n  methods: {\r\n    createPost() {\r\n      console.log(this.contentPost);\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      if (this.contentPost.message != null && this.contentPost.titre != null) {\r\n        axios\r\n        .post(\"http://localhost:3000/api/post/create/\" + uuid, this.contentPost)\r\n        .then(response => {\r\n          if(response) {\r\n            router.push('/');\r\n          }\r\n        })\r\n        .catch(error => (this.msgError = error))\r\n      }\r\n\r\n    },\r\n    onFileSelected(event) {\r\n      console.log(\"test\", event)\r\n      this.contentPost.selectedFile = event.target.files[0]\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}