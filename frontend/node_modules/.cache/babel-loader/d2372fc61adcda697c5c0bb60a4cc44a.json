{"remainingRequest":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\src\\views\\Home.vue","mtime":1617114809606},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617114797071},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617114796102},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617114797071},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1617114808802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvYzNnYS9EZXNrdG9wL0Zvcm1hdGlvbiBXZWIgRGV2ZWxvcHBldXIvQW5hZWxEYW1ldHRlXzA3XzAzXzAzXzIwMjEvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAiQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlIjsKaW1wb3J0IExlc01lc3NhZ2VzIGZyb20gIi4uL2NvbXBvbmVudHMvTGVzTWVzc2FnZXMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIEhlbGxvV29ybGQ6IEhlbGxvV29ybGQsCiAgICBMZXNNZXNzYWdlczogTGVzTWVzc2FnZXMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWxldGVVdWlkUG9zdDogIlRlc3QiLAogICAgICBwb3N0OiB7CiAgICAgICAgdXVpZDogIiIsCiAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgdGl0cmU6ICIiCiAgICAgIH0sCiAgICAgIGFsbFBvc3RzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbIlVzZXIiXSkpLAogIG1ldGhvZHM6IHsKICAgIGdldFBvc3Q6IGZ1bmN0aW9uIGdldFBvc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmFsbFBvc3RzID0gW10sIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0IikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygicG9zdCIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIF90aGlzLmFsbFBvc3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHsKICAgICAgY29uc29sZS5sb2coImplIHJlbG9hZCBkZXB1aXMgaG9tZSIpOwogICAgICB0aGlzLmdldFBvc3QoKTsKICAgIH0sCiAgICBkZWxldGVQb3N0OiBmdW5jdGlvbiBkZWxldGVQb3N0KGRlbGV0ZVV1aWRQb3N0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coInRlc3QgOiAiICsgZGVsZXRlVXVpZFBvc3QpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLlVzZXIudXVpZCArICIgIiArIHRoaXMuVXNlci5pc0FkbWluKTsKICAgICAgdmFyIHV1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXVpZCIpOwogICAgICBjb25zb2xlLmxvZygibGUgcG9zdCB1dWlkIDogIiArIGRlbGV0ZVV1aWRQb3N0ICsgIiBsJ3VzZXIgdXVpZCIgKyB1dWlkKTsKICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QvZGVsZXRlLyIgKyB1dWlkLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgdXVpZFBvc3Q6IGRlbGV0ZVV1aWRQb3N0LAogICAgICAgICAgdXNlcklzQWRtaW46IHRoaXMuVXNlci5pc0FkbWluCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZ2V0UG9zdCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBvc3QoKTsKICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA,OAAA,UAAA,MAAA,6BAAA;AACA,OAAA,WAAA,MAAA,2BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,MADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAFA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AASA,GAjBA;AAkBA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAlBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,WAAA,QAAA,GAAA,EAAA,EACA,KAAA,CACA,GADA,CACA,gCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA,CADA;AAUA,KAZA;AAaA,IAAA,MAbA,oBAaA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,uBAAA;AACA,WAAA,OAAA;AACA,KAhBA;AAiBA,IAAA,UAjBA,sBAiBA,cAjBA,EAiBA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA,cAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,IAAA,GAAA,GAAA,GAAA,KAAA,IAAA,CAAA,OAAA;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,cAAA,GAAA,cAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,MADA,CACA,2CAAA,IADA,EACA;AACA,QAAA,IAAA,EAAA;AACA,UAAA,QAAA,EAAA,cADA;AAEA,UAAA,WAAA,EAAA,KAAA,IAAA,CAAA;AAFA;AADA,OADA,EAOA,IAPA,CAOA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OAVA;AAWA;AAjCA,GArBA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,OAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"home container\">\r\n    <HelloWorld msg=\"Bienvenue chez Groupomania\" />\r\n    <div v-if=\"User.token != null\" class=\"jumbotron shadow-box m-3 pb-5 p-2\">\r\n      <LesMessages\r\n        @deletePost=\"deletePost\"\r\n        @reload=\"reload\"\r\n        v-for=\"post in allPosts\"\r\n        v-bind:key=\"post.id\"\r\n        :post=\"post\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport HelloWorld from \"@/components/HelloWorld.vue\";\r\nimport LesMessages from \"../components/LesMessages\";\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    HelloWorld,\r\n    LesMessages,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      deleteUuidPost: \"Test\",\r\n      post: {\r\n        uuid: \"\",\r\n        message: \"\",\r\n        titre: \"\",\r\n      },\r\n      allPosts: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"User\"]),\r\n  },\r\n  methods: {\r\n    getPost() {\r\n      this.allPosts = [],\r\n      axios\r\n        .get(\"http://localhost:3000/api/post\")\r\n        .then((response) => {\r\n          console.log(\"post\", response.data);\r\n          this.allPosts = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    reload(){\r\n      console.log(\"je reload depuis home\")\r\n      this.getPost()\r\n    },\r\n    deletePost(deleteUuidPost) {\r\n      console.log(\"test : \" + deleteUuidPost);\r\n      console.log(this.User.uuid + \" \" + this.User.isAdmin)\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      console.log(\"le post uuid : \" + deleteUuidPost + \" l'user uuid\" + uuid);\r\n      axios\r\n        .delete(\"http://localhost:3000/api/post/delete/\" + uuid, {\r\n          data: {\r\n            uuidPost: deleteUuidPost,\r\n            userIsAdmin: this.User.isAdmin\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.getPost();\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getPost();\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}