{"remainingRequest":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\src\\views\\Home.vue","mtime":1617208613838},{"path":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617208602019},{"path":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617208600882},{"path":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617208602019},{"path":"C:\\Users\\c3ga\\Desktop\\test\\AnaelDamette_07_03_03_2021\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1617208613061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBIZWxsb1dvcmxkIGZyb20gIkAvY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZSI7DQppbXBvcnQgTGVzTWVzc2FnZXMgZnJvbSAiLi4vY29tcG9uZW50cy9MZXNNZXNzYWdlcyI7DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiSG9tZSIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBIZWxsb1dvcmxkLA0KICAgIExlc01lc3NhZ2VzLA0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlbGV0ZVV1aWRQb3N0OiAiVGVzdCIsDQogICAgICBwb3N0OiB7DQogICAgICAgIHV1aWQ6ICIiLA0KICAgICAgICBtZXNzYWdlOiAiIiwNCiAgICAgICAgdGl0cmU6ICIiLA0KICAgICAgfSwNCiAgICAgIGFsbFBvc3RzOiBbXSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKFsiVXNlciJdKSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFBvc3QoKSB7DQogICAgICB0aGlzLmFsbFBvc3RzID0gW10sDQogICAgICBheGlvcw0KICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QiKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygicG9zdCIsIHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgIHRoaXMuYWxsUG9zdHMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHJlbG9hZCgpew0KICAgICAgY29uc29sZS5sb2coImplIHJlbG9hZCBkZXB1aXMgaG9tZSIpDQogICAgICB0aGlzLmdldFBvc3QoKQ0KICAgIH0sDQogICAgZGVsZXRlUG9zdChkZWxldGVVdWlkUG9zdCkgew0KICAgICAgY29uc29sZS5sb2coInRlc3QgOiAiICsgZGVsZXRlVXVpZFBvc3QpOw0KICAgICAgY29uc29sZS5sb2codGhpcy5Vc2VyLnV1aWQgKyAiICIgKyB0aGlzLlVzZXIuaXNBZG1pbikNCiAgICAgIGxldCB1dWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInV1aWQiKTsNCiAgICAgIGNvbnNvbGUubG9nKCJsZSBwb3N0IHV1aWQgOiAiICsgZGVsZXRlVXVpZFBvc3QgKyAiIGwndXNlciB1dWlkIiArIHV1aWQpOw0KICAgICAgYXhpb3MNCiAgICAgICAgLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0L2RlbGV0ZS8iICsgdXVpZCwgew0KICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgIHV1aWRQb3N0OiBkZWxldGVVdWlkUG9zdCwNCiAgICAgICAgICAgIHVzZXJJc0FkbWluOiB0aGlzLlVzZXIuaXNBZG1pbg0KICAgICAgICAgIH0sDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmdldFBvc3QoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0UG9zdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home container\">\r\n    <HelloWorld msg=\"Bienvenue chez Groupomania\" />\r\n    <div v-if=\"User.token != null\" class=\"jumbotron shadow-box m-3 pb-5 p-2\">\r\n      <LesMessages\r\n        @deletePost=\"deletePost\"\r\n        @reload=\"reload\"\r\n        v-for=\"post in allPosts\"\r\n        v-bind:key=\"post.id\"\r\n        :post=\"post\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport HelloWorld from \"@/components/HelloWorld.vue\";\r\nimport LesMessages from \"../components/LesMessages\";\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    HelloWorld,\r\n    LesMessages,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      deleteUuidPost: \"Test\",\r\n      post: {\r\n        uuid: \"\",\r\n        message: \"\",\r\n        titre: \"\",\r\n      },\r\n      allPosts: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"User\"]),\r\n  },\r\n  methods: {\r\n    getPost() {\r\n      this.allPosts = [],\r\n      axios\r\n        .get(\"http://localhost:3000/api/post\")\r\n        .then((response) => {\r\n          console.log(\"post\", response.data);\r\n          this.allPosts = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    reload(){\r\n      console.log(\"je reload depuis home\")\r\n      this.getPost()\r\n    },\r\n    deletePost(deleteUuidPost) {\r\n      console.log(\"test : \" + deleteUuidPost);\r\n      console.log(this.User.uuid + \" \" + this.User.isAdmin)\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      console.log(\"le post uuid : \" + deleteUuidPost + \" l'user uuid\" + uuid);\r\n      axios\r\n        .delete(\"http://localhost:3000/api/post/delete/\" + uuid, {\r\n          data: {\r\n            uuidPost: deleteUuidPost,\r\n            userIsAdmin: this.User.isAdmin\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.getPost();\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getPost();\r\n  },\r\n};\r\n</script>\r\n"]}]}