{"remainingRequest":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\src\\components\\CreatePost.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\src\\components\\CreatePost.vue","mtime":1616274343888},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\c3ga\\Desktop\\Formation Web Developpeur\\AnaelDamette_07_03_03_2021\\FRONTEND\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiDQppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlci9pbmRleCINCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNyZWF0ZVBvc3QiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb250ZW50UG9zdDogew0KICAgICAgICBtZXNzYWdlOiBudWxsLA0KICAgICAgICB0aXRyZTogbnVsbCwNCiAgICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsDQogICAgICB9LA0KICAgICAgbXNnRXJyb3I6IiINCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKFsiVXNlciJdKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY3JlYXRlUG9zdCgpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudFBvc3QpOw0KICAgICAgbGV0IHV1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXVpZCIpOw0KICAgICAgaWYgKHRoaXMuY29udGVudFBvc3QubWVzc2FnZSAhPSBudWxsICYmIHRoaXMuY29udGVudFBvc3QudGl0cmUgIT0gbnVsbCkgew0KICAgICAgICBheGlvcw0KICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0L2NyZWF0ZS8iICsgdXVpZCwgdGhpcy5jb250ZW50UG9zdCkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmKHJlc3BvbnNlKSB7DQogICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+ICh0aGlzLm1zZ0Vycm9yID0gZXJyb3IpKQ0KICAgICAgfQ0KDQogICAgfSwNCiAgICBvbkZpbGVTZWxlY3RlZChldmVudCkgew0KICAgICAgY29uc29sZS5sb2coInRlc3QiLCBldmVudCkNCiAgICAgIHRoaXMuY29udGVudFBvc3Quc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdDQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["CreatePost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreatePost.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"bg-blue rounded-pill text-center p-4 text-secondary\">\r\n      Partage tes id√©es !\r\n    </h1>\r\n\r\n    <form\r\n      action=\"\"\r\n      class=\"row d-flex flex-column jumbotron rounded shadow-box p-3 m-4\"\r\n    >\r\n      <div class=\"d-flex flex-column form-group p-3\">\r\n        <div\r\n          class=\"d-flex justify-content-start bg-dark rounded shadow-box pt-2 pl-3\"\r\n        >\r\n          <label for=\"input_titre\" class=\"\">\r\n            <p class=\"text-secondary\">En premier un beau titre</p></label\r\n          >\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control mt-2\"\r\n          v-model=\"contentPost.titre\"\r\n          id=\"input_titre\"\r\n          placeholder=\"Ecris ici ton titre\"\r\n        />\r\n      </div>\r\n      <div class=\"d-flex flex-column form-group p-3\">\r\n        <div class=\"d-flex justify-content-start bg-dark rounded shadow-box pt-2 pl-3\">\r\n          <label for=\"input_text\" class=\"\">\r\n            <p class=\"text-secondary\">Ensuite votre joli message !</p></label\r\n          >\r\n        </div>\r\n        \r\n        <textarea\r\n          type=\"text\"\r\n          v-model=\"contentPost.message\"\r\n          class=\"form-control mt-2\"\r\n          id=\"input_text\"\r\n          rows=\"8\"\r\n          placeholder=\"Ecris ici ton message\"\r\n        ></textarea>\r\n      </div>\r\n      <div class=\"d-flex flex-column form-groupe p-3\">\r\n          <input type=\"file\"  @change=\"onFileSelected\" > </div>\r\n      <div class=\"d-flex form-group justify-content-end\">\r\n        <input\r\n          type=\"submit\"\r\n          class=\"btn btn-primary w-25\"\r\n          @click.prevent=\"createPost\"\r\n          value=\"Submit\"\r\n        />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\"\r\nimport axios from \"axios\"\r\nimport router from \"../router/index\"\r\nexport default {\r\n  name: \"CreatePost\",\r\n  data() {\r\n    return {\r\n      contentPost: {\r\n        message: null,\r\n        titre: null,\r\n        selectedFile: null\r\n      },\r\n      msgError:\"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"User\"])\r\n  },\r\n  methods: {\r\n    createPost() {\r\n      console.log(this.contentPost);\r\n      let uuid = localStorage.getItem(\"uuid\");\r\n      if (this.contentPost.message != null && this.contentPost.titre != null) {\r\n        axios\r\n        .post(\"http://localhost:3000/api/post/create/\" + uuid, this.contentPost)\r\n        .then(response => {\r\n          if(response) {\r\n            router.push('/');\r\n          }\r\n        })\r\n        .catch(error => (this.msgError = error))\r\n      }\r\n\r\n    },\r\n    onFileSelected(event) {\r\n      console.log(\"test\", event)\r\n      this.contentPost.selectedFile = event.target.files[0]\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"]}]}